{% extends "layout.html" %}
{% block content %}
<h2>編集ページ（{{ filename }}）</h2>

<style>
table {
    border-collapse: collapse;
    width: 100%;
    margin-bottom: 20px;
}
td, th {
    border: 1px solid #ccc;
    padding: 8px;
}
</style>

<form method="post">
    <table>
        <tr>
            <th>名前</th><th>ID</th><th>レアリティ</th><th>在庫</th><th>削除</th>
        </tr>
        {% for item in items %}
        <tr>
            <td><input type="text" name="name_{{ loop.index0 }}" value="{{ item.name }}"></td>
            <td><input type="text" name="card_id_{{ loop.index0 }}" value="{{ item.card_id }}"></td>
            <td><input type="text" name="rare_{{ loop.index0 }}" value="{{ item.rare }}"></td>
            <td><input type="number" name="stock_{{ loop.index0 }}" value="{{ item.stock }}" min="0"></td>
            <td><input type="checkbox" name="delete_{{ loop.index0 }}"> 削除</td>
        </tr>
        {% endfor %}
    </table>

    <input type="hidden" name="total_rows" value="{{ items|length }}">

    <h3>新しい商品を追加</h3>
    <p>
        名前: <input type="text" name="add_name">
        ID: <input type="text" name="add_card_id">
        レア: <input type="text" name="add_rare">
        在庫: <input type="number" name="add_stock" min="0">
    </p>

    <button type="submit">保存</button>
    <button type="reset">リセット</button>
</form>

<a href="{{ url_for('index') }}">戻る</a>
{% endblock %}
